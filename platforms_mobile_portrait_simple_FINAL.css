/* =====================================================
   Mobile PORTRAIT – Planet strip (FINAL)
   - ONLY affects <=640px portrait
   - Planets sit in the visual center of the universe box (not clipped)
   - Horizontal swipe with snap-to-center
   - Only the centered planet is clickable (via .is-front set by JS)
   ===================================================== */

@media (max-width: 640px) and (orientation: portrait){

  /* Universe must stay interactive */
  .universe{
    position: relative !important;
    pointer-events: auto !important;
    touch-action: pan-y !important; /* allow page scroll */
  }

  /* IMPORTANT: base CSS sets .planets{inset:0}; reset it so our centering works */
  .planets{
    position: absolute !important;

    inset: auto !important;         /* cancels top/right/bottom/left from base */
    left: 0 !important;
    right: 0 !important;

    /* Move the strip slightly upward so labels + ring UI never feel “cut” */
    top: calc(50% - 56px) !important;
    transform: translateY(-50%) !important;

    display: flex !important;
    flex-direction: row !important;
    align-items: center !important;

    gap: 56px !important;           /* spacing between planets */
    padding: 18px 40px 56px !important; /* extra bottom space for labels */

    height: 240px !important;       /* ensures no top/bottom clipping */

    overflow-x: auto !important;
    overflow-y: hidden !important;
    -webkit-overflow-scrolling: touch !important;

    scroll-snap-type: x mandatory !important;

    pointer-events: auto !important;
    touch-action: pan-x !important; /* swipe planets horizontally */
  }

  /* Each planet becomes a flex item (strip mode) */
  .planet{
    position: relative !important;
    left: auto !important;
    top: auto !important;
    transform: none !important;

    flex: 0 0 auto !important;

    width: 96px !important;
    height: 96px !important;

    scroll-snap-align: center !important;

    /* default: not clickable unless centered */
    pointer-events: none !important;
  }

  /* Centered planet becomes clickable */
  .planet.is-front{
    pointer-events: auto !important;
  }

  /* Labels: show clearly for centered planet (and keep others subtle but readable) */
  .planet .p-label{
    opacity: .55 !important;
    transform: translateX(-50%) !important;
    background: none !important;
  }
  .planet.is-front .p-label{
    opacity: 1 !important;
    transform: translateX(-50%) translateY(-1px) !important;
  }

  /* Prevent outer wrappers from offsetting center */
  .universe-wrap{
    margin-top: 0 !important;
    padding-top: 0 !important;
  }

  /* Hide horizontal scrollbar (WebKit/Firefox) */
  .planets::-webkit-scrollbar{ display:none !important; }
  .planets{ scrollbar-width: none !important; }
}
