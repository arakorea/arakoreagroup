/* =====================================================
   Mobile PORTRAIT – Simple, reliable interaction (FINAL)
   - No blur / no dim
   - Full color planets
   - Horizontally spaced for easy tapping
   - Vertically centered in the viewport
   - Landscape untouched
   ===================================================== */

@media (max-width: 640px) and (orientation: portrait){

  /* Remove all blur / dimming */
  .planet,
  .planet *{
    filter: none !important;
    opacity: 1 !important;
  }

  /* Ensure universe is the positioning context */
  .universe{
    position: relative !important;
    pointer-events: auto !important;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  /* Center the planets box vertically */
  .planets{
    position: absolute !important;
    left: 0 !important;
    right: 0 !important;
    /* Slightly above true center so labels + RING UI never feel clipped */
    top: calc(50% - 64px) !important;
    transform: translateY(-50%) !important;

    display: flex !important;
    flex-direction: row !important;
    align-items: center !important;

    gap: 56px !important;
    /* Give the strip real vertical breathing room so it reads as one “space” */
    padding: 34px 40px 190px !important;
    height: 480px !important;

    background: transparent !important;

    overflow-x: auto !important;
    overflow-y: hidden !important; /* keeps box clean; height above prevents label clipping */
    scroll-snap-type: x mandatory !important;
    -webkit-overflow-scrolling: touch !important;
    pointer-events: auto !important;
  }

  .planet{
    position: relative !important;
    left: auto !important;
    top: auto !important;
    transform: none !important;

    flex: 0 0 auto !important;
    width: 96px !important;
    height: 96px !important;
    scroll-snap-align: center !important;

    /* Default: only the centered planet is clickable (JS toggles .is-front) */
    pointer-events: none !important;

    /* Avoid any filter/blur affecting label readability */
    filter: none !important;
    opacity: 1 !important;
  }

  .planet.is-front{ pointer-events: auto !important; }

  /* Labels always readable */
  .planet .p-label{
    opacity: .70 !important;
    transform: translateX(-50%) !important;
    background: none !important;
    filter: none !important;
    text-rendering: geometricPrecision;
  }
  .planet.is-front .p-label{
    opacity: 1 !important;
    transform: translateX(-50%) translateY(-1px) !important;
  }

  /* Hide horizontal scrollbar (WebKit/Firefox) */
  .planets::-webkit-scrollbar{ display:none !important; }
  .planets{ scrollbar-width: none !important; }

  /* Prevent outer wrappers from offsetting center */
  .universe-wrap{
    margin-top: 0 !important;
    padding-top: 0 !important;
  }
}
