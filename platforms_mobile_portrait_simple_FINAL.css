/* =====================================================
   Mobile PORTRAIT â€“ Centered planet strip (FINAL)
   - ONLY affects <=640px portrait
   - Centers the planet row inside the universe box
   - Horizontal swipe with snap-to-center
   - Only the centered planet is clickable (via .is-front)
   ===================================================== */

@media (max-width: 640px) and (orientation: portrait){

  /* Keep everything interactive on mobile */
  .universe{
    position: relative !important;
    pointer-events: auto !important;
    touch-action: pan-y !important; /* allow page scroll */
  }

  /* IMPORTANT: base CSS sets .planets{inset:0}; reset it so top:50% works */
  .planets{
    position: absolute !important;

    inset: auto !important;     /* cancels top/right/bottom/left from base */
    left: 0 !important;
    right: 0 !important;
    top: 50% !important;
    bottom: auto !important;
    height: auto !important;

    transform: translateY(-50%) !important;

    display: flex !important;
    flex-direction: row !important;
    align-items: center !important;
    justify-content: flex-start !important;

    gap: 56px !important;
    padding: 0 44px !important;

    overflow-x: auto !important;
    overflow-y: hidden !important;
    -webkit-overflow-scrolling: touch !important;

    scroll-snap-type: x mandatory !important;

    pointer-events: auto !important;
    touch-action: pan-x !important; /* swipe planets horizontally */
  }

  /* Each planet becomes a flex item (override any inline transform from JS) */
  .planet{
    position: relative !important;
    left: auto !important;
    top: auto !important;
    transform: none !important;

    flex: 0 0 auto !important;
    min-width: 96px !important;
    min-height: 96px !important;

    scroll-snap-align: center !important;

    /* default: not clickable unless centered */
    pointer-events: none !important;
  }

  /* Centered planet becomes clickable */
  .planet.is-front{
    pointer-events: auto !important;
  }

  /* Make sure the visible body fills the hitbox */
  .planet .p-body{
    position: absolute !important;
    inset: 0 !important;
    border-radius: 999px !important;
  }

  /* Labels always readable in strip view */
  .planet .p-label{
    opacity: 1 !important;
    transform: none !important;
    pointer-events: none !important;
  }

  /* Prevent wrappers from offsetting vertical center */
  .universe-wrap{
    margin-top: 0 !important;
    padding-top: 0 !important;
  }

  /* Hide horizontal scrollbar (WebKit) */
  .planets::-webkit-scrollbar{ display:none !important; }
  .planets{ scrollbar-width: none !important; }

  /* === Optional debug line (uncomment to verify true center)
  .universe::after{
    content:"";
    position:absolute;
    left:0; right:0;
    top:50%;
    height:1px;
    background: rgba(255,255,255,.45);
    z-index: 9999;
    pointer-events:none;
  }
  === */
}
