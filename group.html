<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1" name="viewport"/>
<link rel="stylesheet" href="landscape_fullscreen.css"/>
<title>ARA KOREA GROUP | Group</title>
<style>
:root{
  --bg:#0B0B0B;
  --text:#F2F2F2;
  --muted:#B8B8B8;
  --line:rgba(255,255,255,.12);
  --max:1180px;

  --logoH-desktop:88px;
  --logoH-mobile:64px;
}

*{box-sizing:border-box}
html, body { height:100%; }

body{
  margin:0;
  background:var(--bg);
  color:var(--text);
  font-family:system-ui,-apple-system,Segoe UI,Roboto,"Noto Sans KR","Apple SD Gothic Neo","Malgun Gothic",sans-serif;
  overflow-x:hidden;
}

a{color:inherit;text-decoration:none}

/* ===== Subtle Space Background ===== */
#tsparticles{
  position:fixed;
  inset:0;
  z-index:0;
  pointer-events:none;
  opacity:0.50;
}
#aurora{
  position:fixed;
  inset:-15%;
  z-index:1;
  pointer-events:none;
  opacity:0;
  filter: blur(34px) saturate(135%);
  mix-blend-mode: screen;
  transform: rotate(-8deg);
  will-change: transform, opacity, filter;
}
@keyframes auroraInOut{
  0%   { opacity:0;   transform:translate3d(var(--ax1), var(--ay1), 0) rotate(var(--ar)); }
  18%  { opacity:var(--ao); }
  60%  { opacity:calc(var(--ao) * 0.65); transform:translate3d(var(--ax2), var(--ay2), 0) rotate(var(--ar)); }
  100% { opacity:0;   transform:translate3d(var(--ax3), var(--ay3), 0) rotate(var(--ar)); }
}
@keyframes auroraHue{
  0%{ filter: blur(34px) saturate(135%) hue-rotate(0deg); }
  100%{ filter: blur(34px) saturate(135%) hue-rotate(16deg); }
}

.page{ position:relative; z-index:2; }

/* ===== GLOBAL HEADER (same as index) ===== */
header{
  position:sticky;
  top:0;
  z-index:1000;
  background:rgba(11,11,11,.88);
  backdrop-filter:blur(10px);
  border-bottom:1px solid var(--line);
}
.header-inner{
  max-width:var(--max);
  margin:0 auto;
  padding:36px 20px 28px;
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:22px;
}
.brand img{
  height:var(--logoH-desktop);
  width:auto;
  display:block;
}
nav{
  display:flex;
  gap:32px;
  font-size:14px;
  color:rgba(242,242,242,.62);
  flex-wrap:wrap;
  justify-content:center;
  row-gap:10px;
}
nav a:hover{color:rgba(242,242,242,.92)}
nav a{white-space:nowrap}
nav a[aria-current="page"]{color:rgba(242,242,242,.92)}

/* ===== CONTENT ===== */
main{
  max-width:var(--max);
  margin:0 auto;
  padding:72px 20px 84px;
}

.hero{
  text-align:center;
  margin:0 auto 36px;
}
.hero h1{
  margin:0 0 14px 0;
  font-size:40px;
  line-height:1.15;
}
.hero p{
  margin:0 auto;
  max-width:920px;
  font-size:18px;
  line-height:1.7;
  color:rgba(242,242,242,.84);
}

/* Cards */
.grid{
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap:22px;
  margin-top:26px;
}
.card{
  border-radius:22px;
  background:rgba(11,11,11,.34);
  border:1px solid rgba(255,255,255,.10);
  padding:22px;
}
.kicker{
  font-size:12px;
  letter-spacing:.14em;
  text-transform:uppercase;
  color:rgba(242,242,242,.62);
  margin:0 0 10px 0;
}
.card h2{
  margin:0 0 8px 0;
  font-size:20px;
}
.card p{
  margin:0;
  color:rgba(242,242,242,.78);
  line-height:1.65;
  font-size:15.5px;
}
.list{
  margin:14px 0 0 0;
  padding:0;
  list-style:none;
  display:grid;
  gap:10px;
}
.item{
  display:flex;
  align-items:flex-start;
  justify-content:space-between;
  gap:14px;
  padding:12px 12px;
  border-radius:16px;
  border:1px solid rgba(255,255,255,.08);
  background:rgba(255,255,255,.04);
}
.item strong{
  font-size:14px;
  letter-spacing:.02em;
}
.item span{
  font-size:12px;
  color:rgba(242,242,242,.62);
  text-align:right;
}
.mutedLabel{
  font-size:12px;
  color:rgba(242,242,242,.62);
  margin-top:2px;
}

@media(max-width:980px){
  .grid{ grid-template-columns:1fr; }
}

@media(max-width:640px){
  .brand img{ height:var(--logoH-mobile); }
  nav{ gap:18px; font-size:13px; }
  .hero h1{ font-size:32px; }
  main{ padding:60px 20px 72px; }
  .system{ height:620px; }
}

/* ===== Solar System Map ===== */
.map{
  margin-top:28px;
  border-radius:22px;
  background:rgba(11,11,11,.28);
  border:1px solid rgba(255,255,255,.10);
  padding:18px 18px 20px;
  overflow:hidden;
}
.system{
  position:relative;
  width:100%;
  height:520px;
  border-radius:18px;
  background: radial-gradient(60% 60% at 50% 50%, rgba(255,255,255,0.05), transparent 62%);
  perspective: 900px;
  transform-style: preserve-3d;
}
.orbit{
  position:absolute;
  inset:0;
  pointer-events:none;
}
.orbit::before{
  content: "";
  position:absolute;
  left:50%;
  top:50%;
  width:var(--d);
  height:var(--d);
  transform:translate(-50%,-50%);
  border-radius:999px;
  border:1px dashed rgba(255,255,255,0.14);
  opacity:0.55;
}

/* Off-canvas sun light */
.sunlight{
  position:absolute;
  left:-240px;
  top:-220px;
  width:620px;
  height:620px;
  border-radius:999px;
  background: radial-gradient(circle at 40% 40%,
    rgba(255,255,255,0.18),
    rgba(120,255,210,0.11) 22%,
    rgba(160,140,255,0.09) 40%,
    rgba(11,11,11,0) 70%);
  filter: blur(2px) saturate(145%);
  mix-blend-mode: screen;
  opacity:0.78;
  animation: sunlightDrift 14s ease-in-out infinite, sunlightPulse 7.2s ease-in-out infinite;
  pointer-events:none;
}
@keyframes sunlightDrift{
  0%,100%{ transform: translate3d(0,0,0) scale(1); }
  50%{ transform: translate3d(38px,22px,0) scale(1.02); }
}
@keyframes sunlightPulse{
  0%,100%{ opacity:0.70; }
  50%{ opacity:0.86; }
}

/* Center core planet: slow self-rotation + embossed text "engraved" into surface */
.core{
  position:absolute;
  left:50%;
  top:50%;
  width:190px;
  height:190px;
  transform:translate(-50%,-50%) translateZ(20px);
  border-radius:999px;
  pointer-events:none;
  z-index:120;
}
.core-surface{
  position:absolute;
  inset:0;
  border-radius:999px;
  background:
    radial-gradient(circle at 35% 35%, rgba(255,255,255,0.18), transparent 46%),
    radial-gradient(circle at 70% 70%, rgba(255,255,255,0.10), transparent 62%),
    radial-gradient(circle, rgba(110,160,255,0.10), rgba(11,11,11,0) 70%);
  border:1px solid rgba(255,255,255,0.22);
  box-shadow:
    0 0 24px rgba(255,255,255,0.10),
    0 0 80px rgba(120,255,210,0.08);
  overflow:hidden;
  transform-style:preserve-3d;
  animation: corePulse 7.8s ease-in-out infinite;
}

/* subtle drifting surface texture to sell rotation */
.core-surface::after{
  content:"";
  position:absolute;
  inset:0;
  border-radius:999px;
  background:
    repeating-linear-gradient(105deg,
      rgba(255,255,255,0.05) 0px,
      rgba(255,255,255,0.00) 7px,
      rgba(255,255,255,0.035) 14px,
      rgba(255,255,255,0.00) 22px),
    repeating-radial-gradient(circle at 55% 55%,
      rgba(255,255,255,0.04) 0px,
      rgba(255,255,255,0.00) 6px,
      rgba(255,255,255,0.03) 10px,
      rgba(255,255,255,0.00) 16px);
  opacity:0.26;
  mix-blend-mode: overlay;
  animation: coreNoise 18s linear infinite;
}
@keyframes coreNoise{
  from{ background-position: 0% 0%, 0% 0%; }
  to  { background-position: 220% 140%, 160% 200%; }
}

@keyframes corePulse{
  0%,100%{ filter: brightness(1) saturate(135%); }
  50%{ filter: brightness(1.06) saturate(145%); }
}

.planet{
  position:absolute;
  left:50%;
  top:50%;
  transform:translate(-50%,-50%);
  width:1px;
  height:1px;
  pointer-events:none;
  --s: 0.86;
  --a: 0.88;
  --lit: 0.78;
  --z: 0px;
  --ry: 0deg;
  --rx: 0deg;
  --blur: 0px;
  --spinDur: 26s;
  --noiseDur: 18s;
}
.planet .body{
  position:absolute;
  left:0; top:0;
  width:var(--size);
  height:var(--size);
  border-radius:999px;
  transform:translate(-50%,-50%) scale(var(--s));
  transform-style:preserve-3d;
  background:
    radial-gradient(circle at 30% 30%, rgba(255,255,255,0.22), transparent 46%),
    radial-gradient(circle at 70% 70%, rgba(255,255,255,0.10), transparent 62%),
    radial-gradient(circle, var(--c1), var(--c2));
  border:1px solid rgba(255,255,255,0.22);
  box-shadow: 0 0 calc(18px + var(--lit)*22px) rgba(255,255,255,0.10);
  opacity: calc(var(--a) * (0.72 + var(--lit)*0.58));
  filter:saturate(140%);
}
.planet .label{
  position:absolute;
  left:0; top:0;
  transform:
    translate(calc(-50% + 0px), calc(-50% + (var(--size)/2 + 16px)))
    scale(var(--s))
    perspective(700px)
    rotateY(var(--ry))
    rotateX(var(--rx))
    translateZ(18px);
  transform-origin: 50% 0%;
  width:max-content;
  max-width:220px;
  text-align:center;
  opacity: calc(var(--a) * (0.75 + var(--lit)*0.55));
  color:rgba(242,242,242,.94);
  font-size:12px;
  letter-spacing:.04em;
  text-transform:uppercase;
  line-height:1.15;
  text-shadow:0 0 12px rgba(0,0,0,0.55);
  will-change: transform, opacity, filter;
  filter: blur(var(--blur));
}
.planet .label small{
  display:block;
  margin-top:6px;
  font-size:11px;
  letter-spacing:.02em;
  text-transform:none;
  color:rgba(242,242,242,.66);
}

@media (prefers-reduced-motion: reduce){
  #aurora{ display:none; }
  .orbit::before{ opacity:0.22; }
}

/* ===== FOOTER ===== */
footer{
  border-top:1px solid var(--line);
  padding:36px 20px;
  text-align:center;
  font-size:13px;
  color:var(--muted);
}

/* keep the map content contained */
.map{ position:relative; }
.system{
  position:relative;
  overflow:hidden;
  /* prevent 3D layers from triggering horizontal scrolling on mobile */
  contain: layout paint;
}

/* ===== Center Core Text : Full Visible ===== */
.core-text{
  position:absolute;
  left:50%;
  top:50%;
  transform:translate(-50%, -50%) translateZ(26px);
  z-index:300;
  pointer-events:none;

  width:auto;
  max-width:none;
  overflow:visible;
  white-space:nowrap;

  font-family: system-ui, -apple-system, "Inter", sans-serif;
  font-size:14px;
  letter-spacing:0.38em;
  text-transform:uppercase;
  font-weight:700;
  color:rgba(255,255,255,0.9);

  text-shadow:
    0 1px 0 rgba(0,0,0,0.6),
    0 -1px 0 rgba(255,255,255,0.08),
    0 0 18px rgba(255,255,255,0.18),
    0 0 46px rgba(120,255,210,0.14);

  mix-blend-mode:screen;
}

/* ===== Fix text clipping: keep surface clipped, text not clipped ===== */
.core{ overflow: visible !important; }
.core-surface{ overflow: hidden !important; }
.core-text{ overflow: visible !important; }
</style>
</head>
<body>
<div aria-hidden="true" id="tsparticles"></div>
<div aria-hidden="true" id="aurora"></div>
<div class="page">
<header>
<div class="header-inner">
<a aria-label="ARA KOREA GROUP" class="brand" href="index.html">
<img alt="ARA KOREA GROUP logo" src="ara-korea-white.png"/>
</a>
<nav aria-label="Primary navigation">
<a href="index.html">Home</a>
<a href="group.html" aria-current="page">Group</a>
<a href="business.html">Business</a>
<a href="platforms.html">Platforms</a>
<a href="contact.html">Contact</a>
</nav>
</div>
</header>
<main>
<section class="hero">
<h1>One Group, Multiple Domains</h1>
<p>
        ARA KOREA GROUP integrates culture-driven initiatives, media platforms, commerce brands,
        and a space-based platform into a single operating structure—built for long-term partnerships and growth.
      </p>
</section>
<section aria-label="Domains" class="grid">
<article class="card">
<p class="kicker">Culture</p>
<h2>Culture / Publishing / NGO / Public Projects</h2>
<p>
          Cultural programs and public initiatives connecting K-Culture with global communities,
          supported by sustainable planning and partnerships.
        </p>
<ul class="list">
<li class="item">
<div>
<strong>AKFF</strong>
<div class="mutedLabel">Ara Korea Film Festival</div>
</div>
<span>Festival / Exchange</span>
</li>
<li class="item">
<div>
<strong>arakorea.org</strong>
<div class="mutedLabel">K-Culture / NGO</div>
</div>
<span>Public Programs</span>
</li>
<li class="item"><div><strong>Publishing</strong><div class="mutedLabel">Books · E-books · Audio-ready</div></div><span>IP / Editions</span></li></ul>
</article>
<article class="card">
<p class="kicker">Media</p>
<h2>Music / Content / Channel</h2>
<p>
          Under TIKOONZ, we operate media touchpoints—brand, music, and channel distribution—
          connecting audiences with a distinctive creative universe.
        </p>
<ul class="list">
<li class="item">
<div>
<strong>tikoonz.com</strong>
<div class="mutedLabel">tikoonz</div>
</div>
<span>Brand / Music</span>
</li>
<li class="item">
<div>
<strong>tikoonz.tv</strong>
<div class="mutedLabel">tikoonz</div>
</div>
<span>Media Channel</span>
</li>
<li class="item"><div><strong>tikoonz radio</strong><div class="mutedLabel">Live DJ Program</div></div><span>Live Broadcast</span></li></ul>
</article>
<article class="card">
<p class="kicker">Platform</p>
<h2>Space-Based Platform</h2>
<p>
          OURBANG enables scanning, viewing, and trading personal spaces—
          supported by a digital credit system and scalable marketplace operations.
        </p>
<ul class="list">
<li class="item">
<div>
<strong>ourbang</strong>
<div class="mutedLabel">Space Platform</div>
</div>
<span>Scan / View / Trade</span>
</li>
</ul>
</article>
<article class="card">
<p class="kicker">Commerce</p>
<h2>Brand / Product / Retail</h2>
<p>
          Commerce initiatives that translate identity into products—bridging storytelling, design,
          and retail into tangible value.
        </p>
<ul class="list">
<li class="item">
<div>
<strong>ICE Jewelry</strong>
<div class="mutedLabel">Jewelry / Brand Line</div>
</div>
<span>Design / Product</span>
</li>
<li class="item">
<div>
<strong>Shop Portals</strong>
<div class="mutedLabel">arakorea.shop · tikoonz.shop</div>
</div>
<span>Retail / Commerce</span>
</li>
</ul>
</article>
</section>
<section aria-label="Solar system structure map" class="map">
<div class="system" id="system">
<div class="orbit" style="--d: 280px;"></div>
<div class="orbit" style="--d: 380px;"></div>
<div class="orbit" style="--d: 480px;"></div>
<div aria-hidden="true" class="sunlight"></div>
<!-- Core planet (center) -->
<div aria-hidden="true" class="core">
<div class="core-surface"></div>
<div aria-label="ARA KOREA GROUP" class="core-text">ARA KOREA GROUP</div>
</div>

<div class="planet" data-name="ourbang" data-orbit="240" data-phase="0.0" data-speed="0.0024" data-sub="Space Platform" style="--size: 56px; --c1: rgba(90,210,255,.22); --c2: rgba(20,20,20,0);"></div>
<div class="planet" data-name="AKFF" data-orbit="320" data-phase="0.7" data-speed="0.0019" data-sub="Ara Korea Film Festival" style="--size: 40px; --c1: rgba(255,255,255,.18); --c2: rgba(20,20,20,0);"></div>
<div class="planet" data-name="arakorea.org" data-orbit="320" data-phase="2.1" data-speed="0.0018" data-sub="K-Culture / NGO" style="--size: 40px; --c1: rgba(190,140,255,.16); --c2: rgba(20,20,20,0);"></div>
<div class="planet" data-name="publishing" data-orbit="320" data-phase="3.5" data-speed="0.0017" data-sub="Books · E-books · Audio-ready" style="--size: 40px; --c1: rgba(255,215,168,.15); --c2: rgba(20,20,20,0);"></div>
<div class="planet" data-name="tikoonz.com" data-orbit="380" data-phase="4.7" data-speed="0.0016" data-sub="Brand / Music" style="--size: 38px; --c1: rgba(120,255,170,.16); --c2: rgba(20,20,20,0);"></div>
<div class="planet" data-name="tikoonz.tv" data-orbit="380" data-phase="5.6" data-speed="0.00155" data-sub="Media Channel" style="--size: 38px; --c1: rgba(120,180,255,.16); --c2: rgba(20,20,20,0);"></div>
<div class="planet" data-name="tikoonz radio" data-orbit="380" data-phase="1.4" data-speed="0.0015" data-sub="Live DJ Program" style="--size: 38px; --c1: rgba(170,140,255,.16); --c2: rgba(20,20,20,0);"></div>
<div class="planet" data-name="ICE Jewelry" data-orbit="420" data-phase="2.8" data-speed="0.00145" data-sub="Product Line" style="--size: 38px; --c1: rgba(255,215,168,.15); --c2: rgba(20,20,20,0);"></div>
<div class="planet" data-name="arakorea.shop" data-orbit="420" data-phase="4.1" data-speed="0.00135" data-sub="Shop Portal" style="--size: 36px; --c1: rgba(255,255,255,.14); --c2: rgba(20,20,20,0);"></div>
<div class="planet" data-name="tikoonz.shop" data-orbit="420" data-phase="5.0" data-speed="0.0013" data-sub="Shop Portal" style="--size: 36px; --c1: rgba(255,255,255,.14); --c2: rgba(20,20,20,0);"></div>
</div>
</section>
</main>
<footer>
    © <span id="y"></span> ARA KOREA GROUP. All rights reserved.
  </footer>
</div>
<script src="https://cdn.jsdelivr.net/npm/tsparticles-slim@2.12.0/tsparticles.slim.bundle.min.js"></script>
<script>
  document.getElementById("y").textContent = new Date().getFullYear();
  const prefersReducedMotion = window.matchMedia && window.matchMedia("(prefers-reduced-motion: reduce)").matches;

  // Subtle starfield (inner page)
  const colorStars = ["#ffffff", "#ffd7a8", "#a8d7ff", "#b7ffcf", "#d7b7ff", "#ffe9f3"];
  const isMobile = window.matchMedia && window.matchMedia("(max-width: 640px)").matches;

  const options = {
    fpsLimit: prefersReducedMotion ? 30 : 60,
    fullScreen: { enable: false },
    background: { color: { value: "transparent" } },
    detectRetina: true,
    particles: {
      number: { value: prefersReducedMotion ? 18 : (isMobile ? 28 : 42), density: { enable: true, area: isMobile ? 1400 : 1100 } },
      color: { value: colorStars },
      links: { enable: true, distance: isMobile ? 170 : 155, color: "#ffffff", opacity: isMobile ? 0.035 : 0.05, width: 1 },
      move: { enable: !prefersReducedMotion, speed: 0.16, random: true, outModes: { default: "out" } },
      opacity: { value: { min: 0.07, max: isMobile ? 0.22 : 0.28 } },
      size: { value: { min: 0.7, max: isMobile ? 1.7 : 2.0 } }
    },
    interactivity: {
      detectsOn: "window",
      events: { onHover: { enable: !prefersReducedMotion && !isMobile, mode: "grab" }, resize: true },
      modes: { grab: { distance: 160, links: { opacity: 0.09 } } }
    }
  };
  if (window.tsParticles) tsParticles.load("tsparticles", options);

  // Aurora: rare and soft
  (function(){
    if (prefersReducedMotion) return;
    const aurora = document.getElementById("aurora");
    function rand(min,max){ return min + Math.random()*(max-min); }
    function pick(arr){ return arr[(Math.random()*arr.length)|0]; }
    function buildAuroraGrad(){
      const palettes = [
        ["rgba(90,255,210,.14)","rgba(140,120,255,.11)","rgba(80,180,255,.10)"],
        ["rgba(120,255,170,.12)","rgba(190,120,255,.10)","rgba(90,210,255,.10)"]
      ];
      const [c1,c2,c3] = pick(palettes);
      const p1x = rand(12,42), p1y = rand(58,86);
      const p2x = rand(58,90), p2y = rand(46,82);
      const p3x = rand(35,78), p3y = rand(10,38);
      aurora.style.background =
        `radial-gradient(48% 36% at ${p1x}% ${p1y}%, ${c1}, transparent 66%),
         radial-gradient(58% 42% at ${p2x}% ${p2y}%, ${c2}, transparent 70%),
         radial-gradient(40% 32% at ${p3x}% ${p3y}%, ${c3}, transparent 72%)`;
    }
    function run(){
      buildAuroraGrad();
      aurora.style.setProperty("--ax1", rand(-34,34)+"px");
      aurora.style.setProperty("--ay1", rand(-26,26)+"px");
      aurora.style.setProperty("--ax2", rand(-130,130)+"px");
      aurora.style.setProperty("--ay2", rand(-105,105)+"px");
      aurora.style.setProperty("--ax3", rand(-85,85)+"px");
      aurora.style.setProperty("--ay3", rand(-65,65)+"px");
      aurora.style.setProperty("--ao", rand(0.04,0.08).toFixed(3));
      aurora.style.setProperty("--ar", rand(-14,14).toFixed(2)+"deg");
      const dur = rand(10,15).toFixed(2) + "s";
      aurora.style.animation = "none";
      void aurora.offsetWidth;
      aurora.style.animation = `auroraInOut ${dur} ease-in-out 1, auroraHue ${dur} linear 1`;
      setTimeout(run, rand(17000, 36000));
    }
    setTimeout(run, 5200 + Math.random()*9000);
  })();

  // ===== Solar system motion =====
  (function(){
    const system = document.getElementById("system");
    if (!system) return;

    const planets = Array.from(system.querySelectorAll(".planet"));

    // inject bodies/labels
    planets.forEach(p => {
      const name = p.getAttribute("data-name") || "";
      const sub  = p.getAttribute("data-sub") || "";
      p.innerHTML = `
        <div class="body"></div>
        <div class="label">${name}${sub ? `<small>${sub}</small>` : ""}</div>
      `;
    });

    if (prefersReducedMotion) {
      // Static arrangement for reduced motion
      const staticAngles = [0.2, 1.8, 3.3, 5.1, 0.9, 2.6, 3.9, 5.0, 1.3, 4.4];
      planets.forEach((p, i) => {
        const r = parseFloat(p.dataset.orbit || "200");
        const a = staticAngles[i % staticAngles.length];
        const x = Math.cos(a) * r;
        const y = Math.sin(a) * r * 0.62;
        p.style.transform = `translate(calc(-50% + ${x}px), calc(-50% + ${y}px)) translateZ(0px)`;
        p.style.setProperty("--s", 0.84);
        p.style.setProperty("--a", 0.88);
      });
      return;
    }

    const start = performance.now();
    function clamp(v,min,max){ return Math.max(min, Math.min(max, v)); }

    function tick(now){
      const t = (now - start) / 1000;

      const rect = system.getBoundingClientRect();
      const scaleFit = clamp(Math.min(rect.width / 980, 1), 0.72, 1);

      planets.forEach((p, idx) => {
        const r = parseFloat(p.dataset.orbit || "200") * scaleFit;
        const speed = parseFloat(p.dataset.speed || "0.0020");
        const phase = parseFloat(p.dataset.phase || "0");
        const angle = t * (Math.PI * 2) * speed + phase;

        // Elliptical orbit
        const x = Math.cos(angle) * r;
        const y = Math.sin(angle) * r * 0.62;

        // depth (front/back)
        const depth = (Math.sin(angle) + 1) / 2; // 0..1

        // drifting sunlight position (in system coordinates)
        const sunX = -rect.width * (0.36 + 0.03 * Math.sin(t * 0.18));
        const sunY = -rect.height * (0.32 + 0.03 * Math.cos(t * 0.16));

        const lx = (x - sunX);
        const ly = (y - sunY);
        const lLen = Math.hypot(lx, ly) || 1;
        const lnx = lx / lLen, lny = ly / lLen;

        // outward normal approx
        const pLen = Math.hypot(x, y) || 1;
        const pnx = x / pLen, pny = y / pLen;

        let lit = (pnx * lnx + pny * lny); // -1..1
        lit = (lit + 1) / 2;              // 0..1
        lit = 0.30 + lit * 0.55 + depth * 0.15;
        lit = Math.max(0.18, Math.min(0.95, lit));

        // scale/opacity with depth (closer = clearer)
        const s = 0.62 + depth * 0.55;
        const a = 0.20 + depth * 0.86;

        // 3D: pop forward a touch when near
        const z = depth*42 - 18;

        // label perspective (farther = angled + a bit blur)
        const ry = (1 - depth) * 62;
        const rx = (1 - depth) * 12;
        const blur = (1 - depth) * 0.85;

        p.style.zIndex = String(Math.round(10 + depth * 90));
        p.style.transform = `translate(calc(-50% + ${x}px), calc(-50% + ${y}px)) translateZ(${z.toFixed(2)}px)`;

        p.style.setProperty("--s", s.toFixed(3));
        p.style.setProperty("--a", a.toFixed(3));
        p.style.setProperty("--ry", `${ry.toFixed(2)}deg`);
        p.style.setProperty("--rx", `${rx.toFixed(2)}deg`);
        p.style.setProperty("--blur", `${blur.toFixed(2)}px`);
        p.style.setProperty("--lit", `${lit.toFixed(3)}`);

        // one-time per planet: spin/noise speed
        if (!p.dataset._spinSet){
          const base = 18 + (idx % 7) * 4 + Math.random()*6;
          p.style.setProperty("--spinDur", `${base.toFixed(1)}s`);
          const nbase = 12 + (idx % 6) * 3 + Math.random()*6;
          p.style.setProperty("--noiseDur", `${nbase.toFixed(1)}s`);
          p.dataset._spinSet = "1";
        }
      });

      requestAnimationFrame(tick);
    }
    requestAnimationFrame(tick);
  })();
</script>
</body>
</html>
